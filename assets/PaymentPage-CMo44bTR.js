import{u as N,r as i,c as h,m as R,a,b as e,t as r,i as v,F as U,e as P,w as T,n as p,d as u,h as g,v as f,g as $,f as B,j as q,x as S,o as n}from"./index-DwfonoYG.js";const F={class:"min-h-screen bg-gray-50 py-8"},G={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},L={class:"bg-white rounded-lg shadow-lg p-6 md:p-8"},Y={class:"text-3xl font-bold text-gray-900 mb-8 text-center"},z={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},A={class:"order-2 lg:order-1"},E={class:"text-xl font-semibold text-gray-900 mb-6"},H={class:"bg-gray-50 p-4 rounded-lg mb-6"},K={class:"grid grid-cols-2 gap-4 text-sm"},O={class:"font-medium"},W={class:"font-medium"},J={class:"space-y-3 mb-6"},Q={class:"flex justify-between items-start"},X={class:"flex-1"},Z={class:"font-medium"},ee={class:"text-sm text-gray-600"},se={class:"text-sm font-medium"},te={key:0,class:"mb-6"},le={class:"space-y-2"},oe={class:"border-t pt-4 space-y-2"},re={class:"flex justify-between"},ae={class:"flex justify-between"},ne={class:"border-t pt-2"},de={class:"flex justify-between text-lg font-semibold"},ue={class:"text-purple-600"},ie={class:"order-1 lg:order-2"},pe={class:"space-y-3"},me={key:0,class:"w-2 h-2 bg-white rounded-full mx-auto mt-0.5"},ce={class:"flex items-center"},ve={class:"font-medium"},ye={key:0,class:"w-2 h-2 bg-white rounded-full mx-auto mt-0.5"},be={class:"flex items-center"},ge={class:"font-medium"},fe={key:0,class:"w-2 h-2 bg-white rounded-full mx-auto mt-0.5"},xe={class:"flex items-center"},he={class:"font-medium"},we={key:0,class:"w-2 h-2 bg-white rounded-full mx-auto mt-0.5"},_e={class:"flex items-center"},ke={class:"font-medium"},Ve={key:0,class:"space-y-4 border-t pt-4"},Me={class:"grid grid-cols-2 gap-4"},je={class:"space-y-3"},Ce={class:"flex items-start"},Ue={class:"flex items-start"},Pe=["disabled"],$e={key:0},Be={key:1},Re={__name:"PaymentPage",setup(De){const{t:Ie}=N(),w=q();S();const y=i(!1),l=i("wechat"),_=i(null),b=i(0),k=i([{name:"BTS Love Yourself 앨범",category:"앨범/CD",weight:.3},{name:"포토카드 세트",category:"포토카드",weight:.1},{name:"BT21 캐릭터 인형",category:"굿즈/악세서리",weight:.8}]),x=i([{key:"inspection",name:"검수 서비스",cost:5e3},{key:"packaging",name:"특수 포장",cost:3e3}]),V=i(25e3),M=h(()=>{const o=k.value.reduce((s,t)=>s+t.weight,0);return Math.max(o*V.value,15e3)}),j=h(()=>x.value.reduce((o,s)=>o+s.cost,0)),d=i({number:"",expiry:"",cvc:"",name:""}),m=i({terms:!1,payment:!1}),C=h(()=>{const o=!!l.value,s=m.value.terms&&m.value.payment,t=l.value!=="card"||d.value.number&&d.value.expiry&&d.value.cvc&&d.value.name;return o&&s&&t});R(()=>{b.value=M.value+j.value});const c=o=>new Intl.NumberFormat("ko-KR").format(o),D=async()=>{if(C.value){y.value=!0;try{await new Promise(o=>setTimeout(o,2e3)),w.push({name:"payment-result",query:{success:"true",orderId:"KE"+Date.now(),amount:b.value}})}catch(o){console.error("결제 실패:",o),w.push({name:"payment-result",query:{success:"false"}})}finally{y.value=!1}}};return(o,s)=>(n(),a("div",F,[e("div",G,[e("div",L,[e("h1",Y,r(o.$t("payment.title")),1),e("div",z,[e("div",A,[e("h2",E,r(o.$t("payment.summary")),1),e("div",H,[e("div",K,[e("div",null,[s[10]||(s[10]=e("div",{class:"text-gray-600"},"발송인",-1)),e("div",O,r(_.value?.sender?.name||"홍길동"),1)]),e("div",null,[s[11]||(s[11]=e("div",{class:"text-gray-600"},"수령인",-1)),e("div",W,r(_.value?.receiver?.name||"张三"),1)])])]),e("div",J,[(n(!0),a(U,null,P(k.value,(t,I)=>(n(),a("div",{key:I,class:"border border-gray-200 rounded p-3"},[e("div",Q,[e("div",X,[e("div",Z,r(t.name),1),e("div",ee,r(t.category)+" • "+r(t.weight)+"kg",1)]),e("div",se,r(c(t.weight*V.value))+"원 ",1)])]))),128))]),x.value.length>0?(n(),a("div",te,[s[12]||(s[12]=e("h3",{class:"font-medium mb-2"},"부가 서비스",-1)),e("div",le,[(n(!0),a(U,null,P(x.value,t=>(n(),a("div",{key:t.key,class:"flex justify-between text-sm"},[e("span",null,r(t.name),1),e("span",null,r(c(t.cost))+"원",1)]))),128))])])):v("",!0),e("div",oe,[e("div",re,[s[13]||(s[13]=e("span",null,"기본 배송비",-1)),e("span",null,r(c(M.value))+"원",1)]),e("div",ae,[s[14]||(s[14]=e("span",null,"부가 서비스",-1)),e("span",null,r(c(j.value))+"원",1)]),e("div",ne,[e("div",de,[s[15]||(s[15]=e("span",null,"총 결제금액",-1)),e("span",ue,r(c(b.value))+"원",1)])])])]),e("div",ie,[s[26]||(s[26]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"결제 방법",-1)),e("form",{onSubmit:T(D,["prevent"]),class:"space-y-6"},[e("div",pe,[e("label",{class:p(["border border-gray-300 rounded-lg p-4 cursor-pointer hover:border-purple-500 transition-colors flex items-center",{"border-purple-500 bg-purple-50":l.value==="wechat"}])},[u(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>l.value=t),type:"radio",value:"wechat",class:"sr-only"},null,512),[[g,l.value]]),e("div",{class:p(["w-4 h-4 border-2 border-purple-500 rounded-full mr-3",{"bg-purple-500":l.value==="wechat"}])},[l.value==="wechat"?(n(),a("div",me)):v("",!0)],2),e("div",ce,[s[16]||(s[16]=e("div",{class:"w-8 h-8 bg-green-500 rounded mr-3 flex items-center justify-center"},[e("span",{class:"text-white text-xs font-bold"},"微")],-1)),e("span",ve,r(o.$t("payment.methods.wechat")),1)])],2),e("label",{class:p(["border border-gray-300 rounded-lg p-4 cursor-pointer hover:border-purple-500 transition-colors flex items-center",{"border-purple-500 bg-purple-50":l.value==="alipay"}])},[u(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>l.value=t),type:"radio",value:"alipay",class:"sr-only"},null,512),[[g,l.value]]),e("div",{class:p(["w-4 h-4 border-2 border-purple-500 rounded-full mr-3",{"bg-purple-500":l.value==="alipay"}])},[l.value==="alipay"?(n(),a("div",ye)):v("",!0)],2),e("div",be,[s[17]||(s[17]=e("div",{class:"w-8 h-8 bg-blue-500 rounded mr-3 flex items-center justify-center"},[e("span",{class:"text-white text-xs font-bold"},"支")],-1)),e("span",ge,r(o.$t("payment.methods.alipay")),1)])],2),e("label",{class:p(["border border-gray-300 rounded-lg p-4 cursor-pointer hover:border-purple-500 transition-colors flex items-center",{"border-purple-500 bg-purple-50":l.value==="unionpay"}])},[u(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>l.value=t),type:"radio",value:"unionpay",class:"sr-only"},null,512),[[g,l.value]]),e("div",{class:p(["w-4 h-4 border-2 border-purple-500 rounded-full mr-3",{"bg-purple-500":l.value==="unionpay"}])},[l.value==="unionpay"?(n(),a("div",fe)):v("",!0)],2),e("div",xe,[s[18]||(s[18]=e("div",{class:"w-8 h-8 bg-red-500 rounded mr-3 flex items-center justify-center"},[e("span",{class:"text-white text-xs font-bold"},"银")],-1)),e("span",he,r(o.$t("payment.methods.unionpay")),1)])],2),e("label",{class:p(["border border-gray-300 rounded-lg p-4 cursor-pointer hover:border-purple-500 transition-colors flex items-center",{"border-purple-500 bg-purple-50":l.value==="card"}])},[u(e("input",{"onUpdate:modelValue":s[3]||(s[3]=t=>l.value=t),type:"radio",value:"card",class:"sr-only"},null,512),[[g,l.value]]),e("div",{class:p(["w-4 h-4 border-2 border-purple-500 rounded-full mr-3",{"bg-purple-500":l.value==="card"}])},[l.value==="card"?(n(),a("div",we)):v("",!0)],2),e("div",_e,[s[19]||(s[19]=e("svg",{class:"w-8 h-8 text-gray-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})],-1)),e("span",ke,r(o.$t("payment.methods.card")),1)])],2)]),l.value==="card"?(n(),a("div",Ve,[e("div",null,[s[20]||(s[20]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"카드 번호",-1)),u(e("input",{"onUpdate:modelValue":s[4]||(s[4]=t=>d.value.number=t),type:"text",placeholder:"1234 5678 9012 3456",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"},null,512),[[f,d.value.number]])]),e("div",Me,[e("div",null,[s[21]||(s[21]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"유효기간",-1)),u(e("input",{"onUpdate:modelValue":s[5]||(s[5]=t=>d.value.expiry=t),type:"text",placeholder:"MM/YY",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"},null,512),[[f,d.value.expiry]])]),e("div",null,[s[22]||(s[22]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"CVC",-1)),u(e("input",{"onUpdate:modelValue":s[6]||(s[6]=t=>d.value.cvc=t),type:"text",placeholder:"123",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"},null,512),[[f,d.value.cvc]])])]),e("div",null,[s[23]||(s[23]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"카드 소유자명",-1)),u(e("input",{"onUpdate:modelValue":s[7]||(s[7]=t=>d.value.name=t),type:"text",placeholder:"HONG GILDONG",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"},null,512),[[f,d.value.name]])])])):v("",!0),e("div",je,[e("label",Ce,[u(e("input",{"onUpdate:modelValue":s[8]||(s[8]=t=>m.value.terms=t),type:"checkbox",required:"",class:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500 mt-0.5"},null,512),[[$,m.value.terms]]),s[24]||(s[24]=e("span",{class:"ml-2 text-sm text-gray-700"},[e("a",{href:"#",class:"text-purple-600 hover:underline"},"이용약관"),B(" 및 "),e("a",{href:"#",class:"text-purple-600 hover:underline"},"개인정보처리방침"),B("에 동의합니다. (필수) ")],-1))]),e("label",Ue,[u(e("input",{"onUpdate:modelValue":s[9]||(s[9]=t=>m.value.payment=t),type:"checkbox",required:"",class:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500 mt-0.5"},null,512),[[$,m.value.payment]]),s[25]||(s[25]=e("span",{class:"ml-2 text-sm text-gray-700"}," 결제 진행에 동의합니다. (필수) ",-1))])]),e("button",{type:"submit",disabled:!C.value||y.value,class:"w-full bg-purple-600 text-white py-4 rounded-lg font-semibold text-lg hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[y.value?(n(),a("span",$e,"결제 처리 중...")):(n(),a("span",Be,r(c(b.value))+"원 "+r(o.$t("payment.pay")),1))],8,Pe)],32)])])])])]))}};export{Re as default};
